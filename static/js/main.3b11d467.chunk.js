(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{37:function(e,a,t){},40:function(e,a,t){e.exports=t.p+"static/media/univelcity-logo-green.59a017e0.svg"},41:function(e,a,t){e.exports=t(74)},46:function(e,a,t){},71:function(e,a,t){},73:function(e,a,t){},74:function(e,a,t){"use strict";t.r(a);var n,r=t(0),s=t.n(r),o=t(20),l=t.n(o),i=(t(46),t(10)),c=t(11),u=t(16),m=t(15),p=t(13),h=t(2),d=t(22),E=t.n(d),v=t(17),b=t.n(v),g=function(e){e?b.a.defaults.headers.common.Authorization=e:delete b.a.defaults.headers.common.Authorization},f=t(14),w=t(8),N=t(39),y=t(19),O=t(70),S={isAuthenticated:!1,user:{},loading:!1},j={},R=Object(w.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_CURRENT_USER":return Object(y.a)(Object(y.a)({},e),{},{isAuthenticated:!O(a.payload),user:a.payload});case"USER_LOADING":return Object(y.a)(Object(y.a)({},e),{},{loading:!0});default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_ERRORS":return a.payload;default:return e}}}),C=[N.a],_=Object(w.e)(R,{},Object(w.d)(w.a.apply(void 0,C),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()||w.d)),T=function(e){return{type:"SET_CURRENT_USER",payload:e}},k=t(12),D=(t(37),t(40)),U=t.n(D),A=(t(71),function(){return s.a.createElement("div",{className:"logo"},s.a.createElement("img",{className:"center",src:U.a,alt:"Logo"}))}),L=function(e){Object(u.a)(t,e);var a=Object(m.a)(t);function t(){var e;return Object(i.a)(this,t),(e=a.call(this)).onChange=function(a){e.setState(Object(k.a)({},a.target.id,a.target.value))},e.onSubmit=function(a){a.preventDefault();var t={name:e.state.name,email:e.state.email,password:e.state.password,password2:e.state.password2};e.props.registerUser(t,e.props.history)},e.state={name:"",email:"",password:"",password2:"",errors:{}},e}return Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/dashboard")}},{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors})}},{key:"render",value:function(){var e=this.state.errors;return s.a.createElement("div",{className:"base-wrapper"},s.a.createElement(A,null),s.a.createElement("div",{className:"auth-header"},"Register your account"),s.a.createElement("form",{className:"auth-form",noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{className:"auth-group"},s.a.createElement("label",null,s.a.createElement("div",{className:"auth-label"},"Full Name"),s.a.createElement("input",{onChange:this.onChange,value:this.state.name,error:e.name,id:"name",type:"text",className:"auth-input"}),s.a.createElement("div",{className:"auth-error"},e.name))),s.a.createElement("div",{className:"auth-group"},s.a.createElement("label",null,s.a.createElement("div",{className:"auth-label"},"Email address"),s.a.createElement("input",{onChange:this.onChange,value:this.state.email,error:e.email,id:"email",type:"email",className:"auth-input"}),s.a.createElement("div",{className:"auth-error"},e.email))),s.a.createElement("div",{className:"auth-group"},s.a.createElement("label",null,s.a.createElement("div",{className:"auth-label"},"Password"),s.a.createElement("input",{onChange:this.onChange,value:this.state.password,error:e.password,id:"password",type:"password",className:"auth-input"}),s.a.createElement("div",{className:"auth-error"},e.password))),s.a.createElement("div",{className:"auth-group"},s.a.createElement("label",null,s.a.createElement("div",{className:"auth-label"},"Confirm Password"),s.a.createElement("input",{onChange:this.onChange,value:this.state.password2,error:e.password2,id:"password2",type:"password",className:"auth-input"}),s.a.createElement("div",{className:"auth-error"},e.password2))),s.a.createElement("div",null,s.a.createElement("button",{type:"submit",className:"auth-button"},"Sign up")),s.a.createElement("div",{className:"bottom-group"},s.a.createElement("p",null,"Already have an account,",s.a.createElement(p.b,{to:"/",className:"link"},"Login")))))}}]),t}(r.Component),x=Object(f.b)((function(e){return{auth:e.auth,errors:e.errors}}),{registerUser:function(e,a){return function(t){b.a.post("/api/users/register",e).then((function(e){return a.push("/")})).catch((function(e){return t({type:"GET_ERRORS",payload:e.response.data})}))}}})(Object(h.f)(L)),I=function(e){Object(u.a)(t,e);var a=Object(m.a)(t);function t(){var e;return Object(i.a)(this,t),(e=a.call(this)).onChange=function(a){e.setState(Object(k.a)({},a.target.id,a.target.value))},e.onSubmit=function(a){a.preventDefault();var t={email:e.state.email,password:e.state.password};e.props.loginUser(t)},e.state={email:"",password:"",errors:{}},e}return Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/dashboard")}},{key:"componentWillReceiveProps",value:function(e){e.auth.isAuthenticated&&this.props.history.push("/dashboard"),e.errors&&this.setState({errors:e.errors})}},{key:"render",value:function(){var e=this.state.errors;return s.a.createElement("div",{className:"base-wrapper"},s.a.createElement(A,null),s.a.createElement("div",{className:"auth-header"},"Login to your account"),s.a.createElement("form",{className:"auth-form",noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{className:"auth-group"},s.a.createElement("label",null,s.a.createElement("div",{className:"auth-label"},"Email address"),s.a.createElement("input",{onChange:this.onChange,value:this.state.email,error:e.email,id:"email",type:"email",className:"auth-input"}),s.a.createElement("div",{className:"auth-error"},e.email,e.emailnotfound))),s.a.createElement("div",{className:"auth-group"},s.a.createElement("label",null,s.a.createElement("div",{className:"auth-label"},"Password"),s.a.createElement("input",{onChange:this.onChange,value:this.state.password,error:e.password,id:"password",type:"password",className:"auth-input"}),s.a.createElement("div",{className:"auth-error"},e.password,e.passwordincorrect))),s.a.createElement("div",null,s.a.createElement("button",{type:"submit",className:"auth-button"},"Login")),s.a.createElement("div",{className:"bottom-group"},s.a.createElement("p",null,"Don't have an account,"),s.a.createElement(p.b,{to:"/register",className:"link"},"Sign up"))))}}]),t}(r.Component),P=Object(f.b)((function(e){return{auth:e.auth,errors:e.errors}}),{loginUser:function(e){return function(a){b.a.post("/api/users/login",e).then((function(e){var t=e.data.token;localStorage.setItem("jwtTokenTeams",JSON.stringify(t)),g(t);var n=E()(t);a(T(n))})).catch((function(e){return a({type:"GET_ERRORS",payload:e.response.data})}))}}})(I);t(73);if(localStorage.jwtTokenTeams){var G=JSON.parse(localStorage.jwtTokenTeams);g(G);var J=E()(G);_.dispatch(T(J));var V=Date.now()/1e3;J.exp<V&&(_.dispatch((function(e){localStorage.removeItem("jwtTokenTeams"),g(!1),e(T({})),n.push("/dashboard")})),window.location.href="/")}var W=function(e){Object(u.a)(t,e);var a=Object(m.a)(t);function t(){return Object(i.a)(this,t),a.apply(this,arguments)}return Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement(f.a,{store:_},s.a.createElement(p.a,null,s.a.createElement("div",{className:"App"},s.a.createElement(h.c,null,s.a.createElement(h.a,{exact:!0,path:"/",component:P}),s.a.createElement(h.a,{exact:!0,path:"/register",component:x})))))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(s.a.createElement(W,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[41,1,2]]]);
//# sourceMappingURL=main.3b11d467.chunk.js.map